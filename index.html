<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ’˜ Question</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="card" id="card">
    <h1>Be my Valentine PP? ğŸ’–</h1>
    <p>Remember I control your access to Stacy. So choose wisely ğŸ˜Œ</p>

    <!-- âœ… Picture -->
    <div class="photo">
      <img src="assets/question.jpg" alt="Us ğŸ’–" />
    </div>

    <div class="btn-row">
      <a class="button primary" id="yesLink" href="valentine.html">Yes ğŸ’</a>
      <button class="secondary" id="noBtn">No ğŸ™ƒ</button>
    </div>

    <div class="note">
      <p style="margin:0;">Try pressing â€œNoâ€ if you can ğŸ˜‰</p>
      <p style="margin:8px 0 0; opacity:.75; font-size:.95rem;">
      </p>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    const bgm = makeAudio("assets/bgm.mp3", { loop: true });
    const clickSfx = makeAudio("assets/click.mp3");

    setupRunawayNoButton();

    const yesLink = document.getElementById("yesLink");
    if (isTestMode()) yesLink.href = withTestParam("valentine.html");

    // Start music only after click/tap (browser rule)
    yesLink.addEventListener("click", () => {
      playSfx(clickSfx);
      startBgm(bgm);
    });

    // Optional: click sfx on "No" interactions
    const noBtn = document.getElementById("noBtn");
    noBtn.addEventListener("mouseenter", () => playSfx(clickSfx));
    noBtn.addEventListener("touchstart", () => playSfx(clickSfx), { passive: true });

    // Also allow starting BGM on any first tap on the page (helps mobile)
    window.addEventListener("pointerdown", () => startBgm(bgm), { once: true });
  </script>
</body>
</html>
